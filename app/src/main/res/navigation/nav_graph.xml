<?xml version="1.0" encoding="utf-8"?>
<navigation xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/nav_graph"
    app:startDestination="@id/loginFragment">
    <!-- ✅ GLOBAL ACTION -->
    <action
        android:id="@+id/action_global_loginFragment"
        app:destination="@id/loginFragment" />

    <!-- ================= AUTH ================= -->

    <fragment
        android:id="@+id/loginFragment"
        android:name="com.example.mycloset.ui.auth.LoginFragment"
        android:label="Login">

        <action
            android:id="@+id/action_loginFragment_to_registerFragment"
            app:destination="@id/registerFragment" />

        <action
            android:id="@+id/action_loginFragment_to_homeFragment"
            app:destination="@id/homeFragment"
            app:popUpTo="@id/loginFragment"
            app:popUpToInclusive="true" />
    </fragment>

    <fragment
        android:id="@+id/registerFragment"
        android:name="com.example.mycloset.ui.auth.RegisterFragment"
        android:label="Register">

        <action
            android:id="@+id/action_registerFragment_to_loginFragment"
            app:destination="@id/loginFragment"
            app:popUpTo="@id/registerFragment"
            app:popUpToInclusive="true" />

        <action
            android:id="@+id/action_registerFragment_to_homeFragment"
            app:destination="@id/homeFragment"
            app:popUpTo="@id/registerFragment"
            app:popUpToInclusive="true" />
    </fragment>

    <!-- ================= HOME ================= -->

    <fragment
        android:id="@+id/homeFragment"
        android:name="com.example.mycloset.ui.home.HomeFragment"
        android:label="Home">

        <action
            android:id="@+id/action_homeFragment_to_closetListFragment"
            app:destination="@id/closetListFragment" />

        <action
            android:id="@+id/action_homeFragment_to_outfitListFragment"
            app:destination="@id/outfitListFragment" />

        <action
            android:id="@+id/action_homeFragment_to_profileFragment"
            app:destination="@id/profileFragment" />

        <action
            android:id="@+id/action_homeFragment_to_searchFragment"
            app:destination="@id/searchFragment" />

        <action
            android:id="@+id/action_homeFragment_to_settingsFragment"
            app:destination="@id/settingsFragment" />

        <action
            android:id="@+id/action_homeFragment_to_suggestionsInboxFragment"
            app:destination="@id/suggestionsInboxFragment" />

        <action
            android:id="@+id/action_homeFragment_to_shareOutfitFragment"
            app:destination="@id/shareOutfitFragment" />

        <!-- ✅ זה הניווט החדש לרשימת הפריטים -->
        <action
            android:id="@+id/action_homeFragment_to_itemsListFragment"
            app:destination="@id/itemsListFragment" />

    </fragment>

    <!-- ================= CLOSET ================= -->

    <fragment
        android:id="@+id/closetListFragment"
        android:name="com.example.mycloset.ui.closet.ClosetListFragment"
        android:label="Closets">

        <action
            android:id="@+id/action_closetListFragment_to_closetDetailsFragment"
            app:destination="@id/closetDetailsFragment" />

        <action
            android:id="@+id/action_closetListFragment_to_createClosetFragment"
            app:destination="@id/createClosetFragment" />
    </fragment>

    <fragment
        android:id="@+id/closetDetailsFragment"
        android:name="com.example.mycloset.ui.closet.ClosetDetailsFragment"
        android:label="Closet Details">

        <argument
            android:name="closetId"
            app:argType="string"
            android:defaultValue="" />

        <action
            android:id="@+id/action_closetDetailsFragment_to_addItemFragment"
            app:destination="@id/addItemFragment" />

        <action
            android:id="@+id/action_closetDetailsFragment_to_itemDetailsFragment"
            app:destination="@id/itemDetailsFragment" />
    </fragment>

    <fragment
        android:id="@+id/createClosetFragment"
        android:name="com.example.mycloset.ui.closet.CreateClosetFragment"
        android:label="Create Closet" />

    <fragment
        android:id="@+id/closetFragment"
        android:name="com.example.mycloset.ui.closet.ClosetFragment"
        android:label="Closet (Legacy)" />

    <!-- ================= ITEM ================= -->

    <fragment
        android:id="@+id/addItemFragment"
        android:name="com.example.mycloset.ui.item.AddItemFragment"
        android:label="Add Item" />

    <fragment
        android:id="@+id/itemDetailsFragment"
        android:name="com.example.mycloset.ui.item.ItemDetailsFragment"
        android:label="Item Details">
        <argument
            android:name="itemId"
            app:argType="string"
            android:defaultValue="" />
    </fragment>

    <fragment
        android:id="@+id/editItemFragment"
        android:name="com.example.mycloset.ui.item.EditItemFragment"
        android:label="Edit Item">
        <argument
            android:name="itemId"
            app:argType="string"
            android:defaultValue="" />
    </fragment>
    <fragment
        android:id="@+id/itemsListFragment"
        android:name="com.example.mycloset.ui.item.ItemsListFragment"
        android:label="My Items">

        <action
            android:id="@+id/action_itemsListFragment_to_addItemFragment"
            app:destination="@id/addItemFragment" />
    </fragment>






    <!-- ================= OUTFIT ================= -->

    <fragment
        android:id="@+id/outfitListFragment"
        android:name="com.example.mycloset.ui.outfit.OutfitListFragment"
        android:label="Outfits" />

    <fragment
        android:id="@+id/profileFragment"
        android:name="com.example.mycloset.ui.profile.ProfileFragment"
        android:label="Profile" />

    <fragment
        android:id="@+id/searchFragment"
        android:name="com.example.mycloset.ui.search.SearchFragment"
        android:label="Search" />

    <fragment
        android:id="@+id/settingsFragment"
        android:name="com.example.mycloset.ui.settings.SettingsFragment"
        android:label="Settings" />

    <fragment
        android:id="@+id/shareOutfitFragment"
        android:name="com.example.mycloset.ui.share.ShareOutfitFragment"
        android:label="Share Outfit" />

    <fragment
        android:id="@+id/suggestionsInboxFragment"
        android:name="com.example.mycloset.ui.suggestions.SuggestionsInboxFragment"
        android:label="Suggestions Inbox" />
    <fragment
        android:id="@+id/createOutfitFragment"
        android:name="com.example.mycloset.ui.outfit.CreateOutfitFragment"
        android:label="Create Outfit" />


</navigation>


